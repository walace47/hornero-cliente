<div class="grid">
    <div class="col-12">
        <p-message severity="info" [text]="CSV_INTRUCTIONS"></p-message>
    </div>

    <div class="col-12">
        <p-fileUpload
            #up
            mode="basic"
            [multiple]="true"
            name="file"
            accept="text/*"
            [customUpload]="true"
            maxFileSize="1000000"
            [chooseLabel]="nombreArchivo"
            chooseIcon="pi pi-file-import"
            (uploadHandler)="cargarCSV($event)"
            [auto]="true"
        ></p-fileUpload>
    </div>
</div>

<div class="grid">
    <div class="col-12">
        <button
        pButton
        type="button"
        (click)="agregarSolucion()"
        class="mt-1 p-button-success"
        icon="pi pi-plus"
        label="Agregar Solucion"
    ></button>
    </div>
</div>
<div class="grid">
    <div class="col-12">
        <p-table [value]="soluciones" [paginator]="true" [rows]="10">
            <ng-template editMode="row" pTemplate="header">
                <tr>
                    <th style="width:10%" >id</th>
                    <th style="width:40%" >Parametros Entrada</th>
                    <th style="width:40%">Salida</th>
                    <th style="width:10%"></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-solucion let-i="rowIndex">
                <tr>
                    <td >
                           {{solucion.idSolucion}}
                    </td>
                    <td pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input
                                    pInputText
                                    type="text"
                                    (ngModelChange)="emitirSoluciones()"
                                    [(ngModel)]="solucion.parametrosEntrada"
                                />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ solucion.parametrosEntrada }}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input
                                    pInputText
                                    type="text"
                                    (ngModelChange)="emitirSoluciones()"
                                    [(ngModel)]="solucion.salida"
                                    required
                                />
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{ solucion.salida }}
                            </ng-template>
                        </p-cellEditor>
                    </td>

                    <td  *ngIf="!solucion.idSolucion">
                        <button
                        (click)="borrarSolucion(i)"
                            pButton
                            type="button"
                            class="p-button-danger p-button-outlined p-corner-all"
                            icon="pi pi-times"
                        ></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

